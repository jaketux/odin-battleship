import{createShip}from"./ship.js";function gameBoardModule(){const e=createShip("carrierShip",5),r=createShip("battleShip",4),o=createShip("destroyerShip",3),t=createShip("submarineShip",3),h=createShip("patrolBoatShip",2);let i=[[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,]],a=[e,r,o,t,h];const n=function(e){let r,o=Math.floor(2*Math.random()),t=Math.floor(10*Math.random()),h=Math.floor(10*Math.random()),a=!1;for(0===o?r="horizontal":1===o&&(r="vertical");!a;)if("horizontal"===r&&h+e.shipLength<=10){let r=!0;for(var n=0;n<e.shipLength;n++)if(void 0!==i[t][h+n]){r=!1;break}if(r){for(n=0;n<e.shipLength;n++)i[t][h+n]=e;a=!0}else t=Math.floor(10*Math.random()),h=Math.floor(10*Math.random())}else if("vertical"===r&&t+e.shipLength<=10){let r=!0;for(n=0;n<e.shipLength;n++)if(void 0!==i[t+n][h]){r=!1;break}if(r){for(n=0;n<e.shipLength;n++)i[t+n][h]=e;a=!0}else t=Math.floor(10*Math.random()),h=Math.floor(10*Math.random())}else t=Math.floor(10*Math.random()),h=Math.floor(10*Math.random());return i};return{placeShip:function(e,r,o,t){if(!e.shipPlaced)if("horizontal"===t){if(o+e.shipLength>10)return"Error, ship exceeds boards bounds";for(var h=0;h<e.shipLength;h++)if(void 0!==i[r][o+h])return"Error, ship has already been placed here";for(h=0;h<e.shipLength;h++)i[r][o+h]=e,e.shipPlaced=!0,console.log(e.shipPlaced),console.log(i)}else if("vertical"===t){if(r+e.shipLength>10)return"Error, ship exceeds boards bounds";for(h=0;h<e.shipLength;h++)if(void 0!==i[o+h][r])return"Error, ship has already been placed here";for(h=0;h<e.shipLength;h++)i[r+h][o]=e,e.shipPlaced=!0,console.log(e.shipPlaced),console.log(i)}return i},placeAllShipsRandom:function(){a.forEach((e=>{let r=!1;for(;!r;)n(e),r=!0,e.shipPlaced=!0}))},getGameBoard:function(){return i},receiveAttack:function(e,r){const o=i[e][r];return o&&o.hasOwnProperty("hit")?(o.hit(),i[e][r]="Hit",console.log("A ship has been hit!"),"A ship has been hit!"):void 0===o?(i[e][r]="No hit",console.log("Attack missed!"),"Attack missed!"):void 0},checkSunk:function(){for(var e=0;e<a.length;e++)if(!a[e].getStatus().shipSunk)return!1;return!0},resetBoard:function(){i=[[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,],[,,,,,,,,,,]],a.forEach((e=>{e.reset()}))},shipObjects:{carrierShip:e,battleShip:r,destroyerShip:o,submarineShip:t,patrolBoatShip:h}}}export{gameBoardModule};